import { cfg } from './config';
import prisma from './db/prisma';
import type { Abiturient, AdmissionPlan, FaqItem, NewsItem, Specialty } from './types/types';

async function main() {
	console.log('Seeding database...');

	// --- About ---
	await prisma.about.create({
		data: {
			content:
				'<p>–ó–¥–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–µ –Ω–∞ –∂–∏–≤–æ–ø–∏—Å–Ω–æ–º –±–µ—Ä–µ–≥—É –æ–∑–µ—Ä–∞ –ö–∞–±–∞–Ω, –≤ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–º —Ü–µ–Ω—Ç—Ä–µ –ö–∞–∑–∞–Ω–∏, —è–≤–ª—è–µ—Ç—Å—è –ø–∞–º—è—Ç–Ω–∏–∫–æ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –ï–≥–æ —Ñ–∞—Å–∞–¥ —É–∫—Ä–∞—à–µ–Ω –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏, –∞ –≤–Ω—É—Ç—Ä–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω—ã —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —É—á–µ–±–Ω—ã–µ –∫–∞–±–∏–Ω–µ—Ç—ã –∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏.</p> <h2>–ò—Å—Ç–æ—Ä–∏—è –∫–æ–ª–ª–µ–¥–∂–∞</h2> <p>–£—á–µ–±–Ω–æ–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ –≤–µ–¥–µ—Ç —Å–≤–æ—é –∏—Å—Ç–æ—Ä–∏—é —Å 1920 –≥–æ–¥–∞. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ –æ–Ω–æ –Ω–∞–∑—ã–≤–∞–ª–æ—Å—å –ö–∞–∑–∞–Ω—Å–∫–∏–π –∫–æ–∂–µ–≤–µ–Ω–Ω—ã–π —Ç–µ—Ö–Ω–∏–∫—É–º, –≥–æ—Ç–æ–≤–∏–≤—à–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Ä–µ–º–µ—Å–µ–ª. –ó–∞ –≥–æ–¥—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–æ–ª–ª–µ–¥–∂ –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª —Ç—ã—Å—è—á–∏ –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤, –º–Ω–æ–≥–∏–µ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≤–Ω–µ—Å–ª–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ –≥–æ—Ä–æ–¥–∞ –∏ —Ä–µ—Å–ø—É–±–ª–∏–∫–∏.</p> <h2>–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ</h2> <p>–°–µ–≥–æ–¥–Ω—è –∫–æ–ª–ª–µ–¥–∂ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º: –¥–∏–∑–∞–π–Ω, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ. –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å–æ—á–µ—Ç–∞–µ—Ç —Ç–µ–æ—Ä–∏—é –∏ –ø—Ä–∞–∫—Ç–∏–∫—É, –∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ –æ—Å–Ω–∞—â–µ–Ω—ã —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º. –°—Ç—É–¥–µ–Ω—Ç—ã –∞–∫—Ç–∏–≤–Ω–æ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö, –≤—ã—Å—Ç–∞–≤–∫–∞—Ö –∏ –ø—Ä–æ–µ–∫—Ç–∞—Ö, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–º —Ä–∞–∑–≤–∏–≤–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ –∏ —Ç–≤–æ—Ä—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ.</p> <h2>–ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞</h2> <p>–ö–æ–ª–ª–µ–¥–∂ —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è–º–∏, –º–∞—Å—Ç–µ—Ä—Å–∫–∏–º–∏ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏. –ö–∞–∂–¥–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è. –¢–∞–∫–∂–µ –∏–º–µ–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å –æ–±—à–∏—Ä–Ω—ã–º —Ñ–æ–Ω–¥–æ–º —É—á–µ–±–Ω–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã –∏ –∑–æ–Ω–æ–π –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å—Ç—É–¥–µ–Ω—Ç–æ–≤.</p> <h2>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å–æ—Å—Ç–∞–≤</h2> <p>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –∫–æ–ª–ª–µ–¥–∂–∞ –∏–º–µ—é—Ç –≤—ã—Å–æ–∫—É—é –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—é, –º–Ω–æ–≥–∏–µ –∏–∑ –Ω–∏—Ö –∏–º–µ—é—Ç —É—á–µ–Ω—ã–µ —Å—Ç–µ–ø–µ–Ω–∏ –∏ –∑–≤–∞–Ω–∏—è. –û–Ω–∏ –∞–∫—Ç–∏–≤–Ω–æ –≤–Ω–µ–¥—Ä—è—é—Ç –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥–∏–∫–∏ –æ–±—É—á–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ –∏—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–º —Ä–∞–∑–≤–∏—Ç–∏–∏.</p> <h2>–°—Ç—É–¥–µ–Ω—á–µ—Å–∫–∞—è –∂–∏–∑–Ω—å</h2> <p>–í –∫–æ–ª–ª–µ–¥–∂–µ –¥–µ–π—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–π, –∫–ª—É–±–æ–≤ –∏ –∫—Ä—É–∂–∫–æ–≤ –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º. –°—Ç—É–¥–µ–Ω—Ç—ã —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –∫—É–ª—å—Ç—É—Ä–Ω—ã—Ö –∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö, –Ω–∞—É—á–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –∏ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö, —á—Ç–æ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç –≤—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é –ª–∏—á–Ω–æ—Å—Ç–∏ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—é –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ –¥—É—Ö–∞.</p>',
		},
	});

	// --- Faq ---
	const faqs: FaqItem[] = [
		{
			question: '–ö–∞–∫–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –µ—Å—Ç—å –≤ –ö–ö–¢–î –≤ 2024 –≥–æ–¥—É?',
			content:
				'<h3>üìö –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –≤ 2024 –≥–æ–¥—É:</h3><ul><li>09.02.07 ‚Äî –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</li><li>29.02.10 ‚Äî –ö–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –∏–∑–¥–µ–ª–∏–π –ª–µ–≥–∫–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏ (–ø–æ –≤–∏–¥–∞–º)</li><li>29.02.05 ‚Äî –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è –∫–æ–∂–∏ –∏ –º–µ—Ö–∞</li><li>29.02.05 ‚Äî –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è —Ç–µ–∫—Å—Ç–∏–ª—å–Ω—ã—Ö –∏–∑–¥–µ–ª–∏–π (–ø–æ –≤–∏–¥–∞–º)</li><li>38.02.01 ‚Äî –≠–∫–æ–Ω–æ–º–∏–∫–∞ –∏ –±—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∏–π —É—á–µ—Ç (–ø–æ –æ—Ç—Ä–∞—Å–ª—è–º)</li><li>38.02.05 ‚Äî –¢–æ–≤–∞—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –∏ —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤</li></ul>',
		},
		{ question: '–ö–∞–∫ –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É?', content: '<p>–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –æ–Ω–ª–∞–π–Ω —á–µ—Ä–µ–∑ –Ω–∞—à —Å–∞–π—Ç.</p>' },
		{ question: '–ö–∞–∫–∏–µ —Ñ–æ—Ä–º—ã –æ–±—É—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã?', content: '<p>–û—á–Ω–∞—è –∏ –∑–∞–æ—á–Ω–∞—è —Ñ–æ—Ä–º—ã –æ–±—É—á–µ–Ω–∏—è.</p>' },
	];
	await prisma.faq.createMany({
		data: faqs,
		skipDuplicates: true,
	});

	// --- News ---
	const newsItems: NewsItem[] = [
		{
			img: `${cfg.domain}${cfg.uploadDir}/seed/1758105153823-cyber.webp`,
			alt: '–ù–æ–≤–æ—Å—Ç—å 1',
			date: '17.09.2025',
			title: '–ù–∞—á–∞–ª–æ –Ω–æ–≤–æ–≥–æ —É—á–µ–±–Ω–æ–≥–æ –≥–æ–¥–∞',
			text: '–£—á–µ–±–Ω—ã–π –≥–æ–¥ –Ω–∞—á–∞–ª—Å—è —É—Å–ø–µ—à–Ω–æ.',
			slug: 'new-year-2025',
			iso_date: '2025-09-17T00:00:00.000Z',
			categories: ['–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ', '–ù–æ–≤–æ—Å—Ç–∏'],
			content: '<h2>–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –Ω–∞—á–∞–ª–∞ —É—á–µ–±–Ω–æ–≥–æ –≥–æ–¥–∞..<h2/><p>–¢–µ–∫—Å—Ç....</p>',
		},
		{
			img: `${cfg.domain}${cfg.uploadDir}/seed/1758130514964-ecology.webp`,
			alt: '–ù–æ–≤–æ—Å—Ç—å 2',
			date: '01.08.2025',
			title: '–ù–æ–≤—ã–µ –∫—É—Ä—Å—ã –¥–∏–∑–∞–π–Ω–∞',
			text: '–ó–∞–ø—É—â–µ–Ω—ã –Ω–æ–≤—ã–µ –∫—É—Ä—Å—ã –ø–æ –¥–∏–∑–∞–π–Ω—É.',
			slug: 'design-courses-2025',
			iso_date: '2025-08-01T00:00:00.000Z',
			categories: ['–ö—É—Ä—Å—ã', '–ù–æ–≤–æ—Å—Ç–∏'],
			content: '–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –Ω–æ–≤—ã—Ö –∫—É—Ä—Å–æ–≤ –¥–∏–∑–∞–π–Ω–∞...',
		},
		{
			img: `${cfg.domain}${cfg.uploadDir}/seed/1758130514964-ecology.webp`,
			alt: '–ù–æ–≤–æ—Å—Ç—å 2',
			date: '01.08.2025',
			title: '–ù–æ–≤—ã–µ –∫—É—Ä—Å—ã –¥–∏–∑–∞–π–Ω–∞ 2',
			text: '–ó–∞–ø—É—â–µ–Ω—ã –Ω–æ–≤—ã–µ –∫—É—Ä—Å—ã –ø–æ –¥–∏–∑–∞–π–Ω—É.',
			slug: 'design-courses-2025',
			iso_date: '2025-08-01T00:00:00.000Z',
			categories: ['–ö—É—Ä—Å—ã'],
			content: '–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –Ω–æ–≤—ã—Ö –∫—É—Ä—Å–æ–≤ –¥–∏–∑–∞–π–Ω–∞ 2...',
		},
	];
	await prisma.news.createMany({
		data: newsItems,
		skipDuplicates: true,
	});

	// --- Specialty ---
	const specialtiesData: Specialty[] = [
		{
			code: '09.02.07',
			name: '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ',
			qualification: '–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç',
			durationMonths: 4,
			base: 9,
			form: '–û—á–Ω–∞—è',
		},
		{
			code: '09.02.07',
			name: '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ',
			qualification: '–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º',
			durationMonths: 4,
			base: 9,
			form: '–û—á–Ω–∞—è',
		},
		{
			code: '29.02.10',
			name: '–ö–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –∏–∑–¥–µ–ª–∏–π –ª–µ–≥–∫–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏',
			qualification: '–®–≤–µ–π–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è',
			durationMonths: 4,
			base: 9,
			form: '–û—á–Ω–∞—è',
		},
	];
	await prisma.specialty.createMany({
		data: specialtiesData,
		skipDuplicates: true,
	});

	const specialties = await prisma.specialty.findMany();

	// --- AdmissionPlan ---
	const admissionPlans: AdmissionPlan[] = specialties.map((s: Specialty) => ({
		specialtyId: s.id,
		year: 2025,
		funding: 'BUDGET',
		price: null,
		places: 20,
	}));
	await prisma.admissionPlan.createMany({
		data: admissionPlans,
		skipDuplicates: true,
	});

	// --- Abiturients ---
	const studentsPerSpecialty = 5;
	const abiturients: Abiturient[] = [];

	const firstNames = ['–ê–ª–µ–∫—Å–µ–π', '–ú–∞—Ä–∏—è', '–ò–≤–∞–Ω', '–ï–ª–µ–Ω–∞', '–î–º–∏—Ç—Ä–∏–π', '–û–ª—å–≥–∞', '–°–µ—Ä–≥–µ–π', '–ê–Ω–Ω–∞'];
	const lastNames = ['–ò–≤–∞–Ω–æ–≤', '–ü–µ—Ç—Ä–æ–≤', '–°–∏–¥–æ—Ä–æ–≤', '–ö—É–∑–Ω–µ—Ü–æ–≤–∞', '–°–º–∏—Ä–Ω–æ–≤', '–ü–æ–ø–æ–≤–∞', '–ö–æ–≤–∞–ª–µ–≤', '–ù–∏–∫–æ–ª–∞–µ–≤–∞'];
	const middleNames = ['–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á', '–ê–Ω–¥—Ä–µ–µ–≤–Ω–∞', '–ò–≤–∞–Ω–æ–≤–∏—á', '–ü–µ—Ç—Ä–æ–≤–Ω–∞', '–î–º–∏—Ç—Ä–∏–µ–≤–∏—á', '–°–µ—Ä–≥–µ–µ–≤–Ω–∞'];

	function getRandomItem<T>(arr: T[]): T {
		return arr[Math.floor(Math.random() * arr.length)];
	}

	specialties.forEach((s: Required<Specialty>) => {
		for (let i = 0; i < studentsPerSpecialty; i++) {
			const fullName = `${getRandomItem(lastNames)} ${getRandomItem(firstNames)} ${getRandomItem(middleNames)}`;

			const score = parseFloat((Math.random() * 2 + 3).toFixed(1));

			abiturients.push({
				specialtyId: s.id,
				full_name: fullName,
				score: score,
				isEnrolled: score >= 4.0,
			});
		}
	});

	await prisma.abiturient.createMany({
		data: abiturients,
		skipDuplicates: true,
	});

	console.log('Seeding finished.');
}

main()
	.catch((e) => {
		console.error(e);
		process.exit(1);
	})
	.finally(async () => {
		await prisma.$disconnect();
	});
